/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.0 - 2015-10-17
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.carousel","ui.bootstrap.transition","ui.bootstrap.dropdown","ui.bootstrap.modal"]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(n,e,t,o){function i(){r();var e=+n.interval;!isNaN(e)&&e>0&&(l=t(a,e))}function r(){l&&(t.cancel(l),l=null)}function a(){var e=+n.interval;c&&!isNaN(e)&&e>0?n.next():n.pause()}var l,c,s=this,u=s.slides=n.slides=[],d=-1;s.currentSlide=null;var p=!1;s.select=n.select=function(t,r){function a(){if(!p){if(s.currentSlide&&angular.isString(r)&&!n.noTransition&&t.$element){t.$element.addClass(r);{t.$element[0].offsetWidth}angular.forEach(u,function(n){angular.extend(n,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(t,{direction:r,active:!0,entering:!0}),angular.extend(s.currentSlide||{},{direction:r,leaving:!0}),n.$currentTransition=o(t.$element,{}),function(e,t){n.$currentTransition.then(function(){l(e,t)},function(){l(e,t)})}(t,s.currentSlide)}else l(t,s.currentSlide);s.currentSlide=t,d=c,i()}}function l(e,t){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(t||{},{direction:"",active:!1,leaving:!1,entering:!1}),n.$currentTransition=null}var c=u.indexOf(t);void 0===r&&(r=c>d?"next":"prev"),t&&t!==s.currentSlide&&(n.$currentTransition?(n.$currentTransition.cancel(),e(a)):a())},n.$on("$destroy",function(){p=!0}),s.indexOfSlide=function(n){return u.indexOf(n)},n.next=function(){var e=(d+1)%u.length;return n.$currentTransition?void 0:s.select(u[e],"next")},n.prev=function(){var e=0>d-1?u.length-1:d-1;return n.$currentTransition?void 0:s.select(u[e],"prev")},n.isActive=function(n){return s.currentSlide===n},n.$watch("interval",i),n.$on("$destroy",r),n.play=function(){c||(c=!0,i())},n.pause=function(){n.noPause||(c=!1,r())},s.addSlide=function(e,t){e.$element=t,u.push(e),1===u.length||e.active?(s.select(u[u.length-1]),1==u.length&&n.play()):e.active=!1},s.removeSlide=function(n){var e=u.indexOf(n);u.splice(e,1),u.length>0&&n.active?s.select(e>=u.length?u[e-1]:u[e]):d>e&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(n,e,t,o){o.addSlide(n,e),n.$on("$destroy",function(){o.removeSlide(n)}),n.$watch("active",function(e){e&&o.select(n)})}}}),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(n,e,t){function o(n){for(var e in n)if(void 0!==r.style[e])return n[e]}var i=function(o,r,a){a=a||{};var l=n.defer(),c=i[a.animation?"animationEndEventName":"transitionEndEventName"],s=function(){t.$apply(function(){o.unbind(c,s),l.resolve(o)})};return c&&o.bind(c,s),e(function(){angular.isString(r)?o.addClass(r):angular.isFunction(r)?r(o):angular.isObject(r)&&o.css(r),c||l.resolve(o)}),l.promise.cancel=function(){c&&o.unbind(c,s),l.reject("Transition cancelled")},l.promise},r=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=o(a),i.animationEndEventName=o(l),i}]),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(n){var e=null;this.open=function(i){e||(n.bind("click",t),n.bind("keydown",o)),e&&e!==i&&(e.isOpen=!1),e=i},this.close=function(i){e===i&&(e=null,n.unbind("click",t),n.unbind("keydown",o))};var t=function(n){if(e){var t=e.getToggleElement();n&&t&&t[0].contains(n.target)||e.$apply(function(){e.isOpen=!1})}},o=function(n){27===n.which&&(e.focusToggleElement(),t())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(n,e,t,o,i,r){var a,l=this,c=n.$new(),s=o.openClass,u=angular.noop,d=e.onToggle?t(e.onToggle):angular.noop;this.init=function(o){l.$element=o,e.isOpen&&(a=t(e.isOpen),u=a.assign,n.$watch(a,function(n){c.isOpen=!!n}))},this.toggle=function(n){return c.isOpen=arguments.length?!!n:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return l.toggleElement},c.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()},c.$watch("isOpen",function(e,t){r[e?"addClass":"removeClass"](l.$element,s),e?(c.focusToggleElement(),i.open(c)):i.close(c),u(n,e),angular.isDefined(e)&&e!==t&&d(n,{open:!!e})}),n.$on("$locationChangeSuccess",function(){c.isOpen=!1}),n.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(n,e,t,o){o.init(e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(n,e,t,o){if(o){o.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||t.disabled||n.$apply(function(){o.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(o.isOpen,function(n){e.attr("aria-expanded",!!n)}),n.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(e,t){n.push({key:e,value:t})},get:function(e){for(var t=0;t<n.length;t++)if(e==n[t].key)return n[t]},keys:function(){for(var e=[],t=0;t<n.length;t++)e.push(n[t].key);return e},top:function(){return n[n.length-1]},remove:function(e){for(var t=-1,o=0;o<n.length;o++)if(e==n[o].key){t=o;break}return n.splice(t,1)[0]},removeTop:function(){return n.splice(n.length-1,1)[0]},length:function(){return n.length}}}}}).directive("modalBackdrop",["$timeout",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,t,o){e.backdropClass=o.backdropClass||"",e.animate=!1,n(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(n,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(n,e){return e.templateUrl||"template/modal/window.html"},link:function(t,o,i){o.addClass(i.windowClass||""),t.size=i.size,e(function(){t.animate=!0,o[0].querySelectorAll("[autofocus]").length||o[0].focus()}),t.close=function(e){var t=n.getTop();t&&t.value.backdrop&&"static"!=t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),n.dismiss(t.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(n,e,t,o,i){i(n.$parent,function(n){e.empty(),e.append(n)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(n,e,t,o,i,r){function a(){for(var n=-1,e=f.keys(),t=0;t<e.length;t++)f.get(e[t]).value.backdrop&&(n=t);return n}function l(n){var e=t.find("body").eq(0),o=f.get(n).value;f.remove(n),s(o.modalDomEl,o.modalScope,300,function(){o.modalScope.$destroy(),e.toggleClass(p,f.length()>0),c()})}function c(){if(u&&-1==a()){var n=d;s(u,d,150,function(){n.$destroy(),n=null}),u=void 0,d=void 0}}function s(t,o,i,r){function a(){a.done||(a.done=!0,t.remove(),r&&r())}o.animate=!1;var l=n.transitionEndEventName;if(l){var c=e(a,i);t.bind(l,function(){e.cancel(c),a(),o.$apply()})}else e(a)}var u,d,p="modal-open",f=r.createNew(),m={};return i.$watch(a,function(n){d&&(d.index=n)}),t.bind("keydown",function(n){var e;27===n.which&&(e=f.top(),e&&e.value.keyboard&&(n.preventDefault(),i.$apply(function(){m.dismiss(e.key,"escape key press")})))}),m.open=function(n,e){f.add(n,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var r=t.find("body").eq(0),l=a();if(l>=0&&!u){d=i.$new(!0),d.index=l;var c=angular.element("<div modal-backdrop></div>");c.attr("backdrop-class",e.backdropClass),u=o(c)(d),r.append(u)}var s=angular.element("<div modal-window></div>");s.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:f.length()-1,animate:"animate"}).html(e.content);var m=o(s)(e.scope);f.top().value.modalDomEl=m,r.append(m),r.addClass(p)},m.close=function(n,e){var t=f.get(n);t&&(t.value.deferred.resolve(e),l(n))},m.dismiss=function(n,e){var t=f.get(n);t&&(t.value.deferred.reject(e),l(n))},m.dismissAll=function(n){for(var e=this.getTop();e;)this.dismiss(e.key,n),e=this.getTop()},m.getTop=function(){return f.top()},m}]).provider("$modal",function(){var n={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,t,o,i,r,a,l){function c(n){return n.template?o.when(n.template):i.get(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl,{cache:r}).then(function(n){return n.data})}function s(n){var t=[];return angular.forEach(n,function(n){(angular.isFunction(n)||angular.isArray(n))&&t.push(o.when(e.invoke(n)))}),t}var u={};return u.open=function(e){var i=o.defer(),r=o.defer(),u={result:i.promise,opened:r.promise,close:function(n){l.close(u,n)},dismiss:function(n){l.dismiss(u,n)}};if(e=angular.extend({},n.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=o.all([c(e)].concat(s(e.resolve)));return d.then(function(n){var o=(e.scope||t).$new();o.$close=u.close,o.$dismiss=u.dismiss;var r,c={},s=1;e.controller&&(c.$scope=o,c.$modalInstance=u,angular.forEach(e.resolve,function(e,t){c[t]=n[s++]}),r=a(e.controller,c),e.controllerAs&&(o[e.controllerAs]=r)),l.open(u,{scope:o,deferred:i,content:n[0],backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(n){i.reject(n)}),d.then(function(){r.resolve(!0)},function(){r.reject(!1)}),u},u}]};return n});